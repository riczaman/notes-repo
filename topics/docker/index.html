
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Personal Technical Notes">
      
      
        <meta name="author" content="Ricky Zaman">
      
      
        <link rel="canonical" href="https://riczaman.github.io/notes-repo/topics/docker/">
      
      
        <link rel="prev" href="../jenkins/">
      
      
        <link rel="next" href="../actions/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Docker - Ricky's Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Raleway";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deployment-before-containers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Ricky&#39;s Notes" class="md-header__button md-logo" aria-label="Ricky's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ricky's Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Docker
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/riczaman/notes-repo" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Ricky&#39;s Notes" class="md-nav__button md-logo" aria-label="Ricky's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Ricky's Notes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/riczaman/notes-repo" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Topics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jenkins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jenkins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deployment-before-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment before Containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-with-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment with Containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vm-vs-docker" class="md-nav__link">
    <span class="md-ellipsis">
      VM vs Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-images-vs-docker-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Images vs Docker Containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-registry" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Registry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Image Versioning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-images" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-images" class="md-nav__link">
    <span class="md-ellipsis">
      Running Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#port-binding" class="md-nav__link">
    <span class="md-ellipsis">
      Port Binding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#all-containers" class="md-nav__link">
    <span class="md-ellipsis">
      All Containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#private-docker-registeries" class="md-nav__link">
    <span class="md-ellipsis">
      Private Docker Registeries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-custom-docker-images" class="md-nav__link">
    <span class="md-ellipsis">
      Building Custom Docker Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-node19-alpine-copy-packagejson-app-copy-src-app-workdir-app-run-npm-install-cmd-node-serverjs" class="md-nav__link">
    <span class="md-ellipsis">
      FROM node:19-alpine COPY package.json /app/ COPY src /app/ WORKDIR /app RUN npm install CMD [&quot;node&quot;, &quot;server.js&quot;]
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-the-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Docker Image
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aiFoundations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Oracle AI Foundations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../genAI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Oracle Generative AI Professional
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deployment-before-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment before Containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-with-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment with Containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vm-vs-docker" class="md-nav__link">
    <span class="md-ellipsis">
      VM vs Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-images-vs-docker-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Images vs Docker Containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-registry" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Registry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Image Versioning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-images" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-images" class="md-nav__link">
    <span class="md-ellipsis">
      Running Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#port-binding" class="md-nav__link">
    <span class="md-ellipsis">
      Port Binding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#all-containers" class="md-nav__link">
    <span class="md-ellipsis">
      All Containers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#private-docker-registeries" class="md-nav__link">
    <span class="md-ellipsis">
      Private Docker Registeries
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-custom-docker-images" class="md-nav__link">
    <span class="md-ellipsis">
      Building Custom Docker Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#from-node19-alpine-copy-packagejson-app-copy-src-app-workdir-app-run-npm-install-cmd-node-serverjs" class="md-nav__link">
    <span class="md-ellipsis">
      FROM node:19-alpine COPY package.json /app/ COPY src /app/ WORKDIR /app RUN npm install CMD [&quot;node&quot;, &quot;server.js&quot;]
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-the-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Docker Image
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Docker</h1>

<p>Docker is an open platform designed for developing, shipping, and running applications using containerization. At a high level, it enables users to package an application and all its dependencies (code, libraries, system tools, runtime, and configurations) into a standardized unit called a container. </p>
<h2 id="deployment-before-containers">Deployment before Containers</h2>
<ul>
<li>Each developer needs to install the services and dependencies locally on their OS on their laptop (Redis, Database, Messaging, etc)</li>
<li>Installation on different OS (Mac vs Windows) is different</li>
<li>Prone to error as the setup can be difficult especially if your application is complex</li>
</ul>
<h2 id="deployment-with-containers">Deployment with Containers</h2>
<ul>
<li>With containers like Docker you don't have to install all of the services independently on your OS instead these services come packaged with the application in an isolated enviornment</li>
<li>Docker also allows you to run different versions of an application without any conflicts (ie. Redis 4.1, Redis 4.2, Redis 4.3, etc)</li>
</ul>
<h2 id="vm-vs-docker">VM vs Docker</h2>
<ul>
<li>Docker only contains and deals with the OS application layer</li>
<li>VM has the container layer and the OS Kernel</li>
<li><em>As a result Docker packages are a lot smaller since they only have to implement one layer of the OS and they are faster to start up since VMS have to boot up the OS Kernel</em></li>
<li><strong>VMs are compatible with all OS but Docker is only compatible with Linux OS for example if you have Linux Docker file it can run on a Windows machine because the Windows machine has the Windos OS Kernel</strong></li>
<li><code>Docker Desktop</code> now lets Linux Containers work with Mac or Windows OS. Docker Desktop uses a hypervisor layer which has the Linux kernel that is needed. </li>
</ul>
<hr />
<h2 id="docker-images-vs-docker-containers">Docker Images vs Docker Containers</h2>
<ul>
<li>
<p><code>Docker image</code> is the artifact that we create that has the application and all of it envionrment dependencies that we can then upload to an artifact repository so another server/person can download and run it &amp; it is executable</p>
</li>
<li>
<p><code>Docker Container</code> is a running instance of an image. Basically the server or host or machine that runs the image becomes the Docker container 
            - <em>You can run multiple containers from one image</em></p>
</li>
<li>
<p><code>docker images</code>: <strong>Command to see all the images that you have in your docker instance</strong></p>
</li>
<li><code>docker ps</code>: <strong>See your running containers</strong></li>
</ul>
<hr />
<h2 id="docker-registry">Docker Registry</h2>
<ul>
<li>Registries are places that have premade docker images stored</li>
<li><code>Docker Hub</code> is Docker's officially registry: https://hub.docker.com/</li>
</ul>
<hr />
<h2 id="image-versioning">Image Versioning</h2>
<ul>
<li>New versions of the application require new versions of the docker image and these versions are called <strong>Tags</strong></li>
<li>All images have a tag called <code>latest</code> which indicates it the newest version of that image. If you don't choose a specific version you get latest by default</li>
</ul>
<hr />
<h2 id="getting-images">Getting Images</h2>
<ol>
<li>Search for the image (package) that you need from a Registry</li>
<li>Then run <code>docker pull {name}:tag</code></li>
<li>You didn't have to specify the registry here because DockerHub is the default location where it searches. </li>
</ol>
<p><img alt="Docker Pull GIF" src="/notes-repo/images/dockerpull.gif" /></p>
<hr />
<h2 id="running-images">Running Images</h2>
<ol>
<li>To run images you just need to use this commmand: <code>docker run imageName:tagnNumber</code></li>
<li>
<p>Running the container using this command runs it in the foreground which means your terminal is now blocked</p>
</li>
<li>
<p>Using <code>-d</code> flag will run the container in the background and it will give you the full process ID</p>
</li>
<li>
<p><code>docker run -d name:tag</code> </p>
</li>
<li>
<p>To see <strong>Logs</strong> while running containers in the backround: <code>docker logs containerID</code> (you get this from docker ps)</p>
</li>
<li>
<p><em>You can skip the docker pull command and just run the docker run for an image that you don't have locally as long as that image is found in DockerHub</em></p>
</li>
</ol>
<hr />
<h2 id="port-binding">Port Binding</h2>
<ul>
<li>When you run a container like the above without mentioning a port then you can't access it since its running on the enclosed Docker network </li>
<li>
<p>We need to expose the container port to the host that is running the container </p>
</li>
<li>
<p><code>Port Binding</code>: is when you bind the containers port to the host port so that you can access the container. For example, nginx runs on port 80 and that is standard for this application.</p>
</li>
<li>
<p><strong>Stopping Containers</strong> = <code>docker stop containerID</code></p>
</li>
<li>
<p><em>To bind the port</em>: <code>docker run -d -p hostPort:containerPort name:tag</code></p>
</li>
<li>the <strong>-p</strong> is what is used to bind the port and it uses {host port: container port}. Now if you go to localhost for example on the host port you define you will see the running container </li>
<li>
<p>Only one service can be tied to a port if you try to run another docker run for a different service on the same port you will get an error </p>
</li>
<li>
<p><strong>To stop a container you run: <code>docker stop containerID</code></strong></p>
</li>
</ul>
<p>-<em>You should match the host port to the same one that the container uses</em></p>
<h2 id="all-containers">All Containers</h2>
<ul>
<li>Even though you stopped containers they still exist and <code>docker run</code> does not reuse containers it creates a new one to see a list of <strong>all containers running and not running you can run: <code>docker ps -a</code></strong></li>
<li>
<p>the -a flag means all</p>
</li>
<li>
<p><em>Restarting a Container that was previously stopped:</em></p>
</li>
<li>
<p><code>docker start containerID</code></p>
</li>
<li>
<p><em>Using Container Names</em> - When running these docker commands we reference the docker ID but we can also use the <code>container name</code> which is usually auto-generated by docker but you can change this value:</p>
</li>
<li>to manually name the container you need to run <code>docker run --name giveName -d -p 8080:80 name:tag</code></li>
<li>the <strong>--name</strong> is what you use to give it a specific name</li>
</ul>
<hr />
<h2 id="private-docker-registeries">Private Docker Registeries</h2>
<ul>
<li>These are images that are created in-house by companies which they do not want to share with people outside of the company</li>
<li>
<p>You need to <code>authenticate</code> before you can access the registry and all of the big cloud providers have their own docker registries</p>
</li>
<li>
<p><em>Docker Registry versus Docker Repository</em></p>
</li>
<li>A registry is a service for providing storage and its a collection of repositories </li>
<li>A repository is a collection of related images with the same name but different versions </li>
</ul>
<hr />
<h2 id="building-custom-docker-images">Building Custom Docker Images</h2>
<ul>
<li>
<p><code>Dockerfile</code> is the file that contains all the commands used to assemble an image from your app</p>
</li>
<li>
<p>In the root of the application create a new file called: <code>Dockerfile</code></p>
</li>
<li>
<p>Anything that you need to run your app is what you also need to include as a dependency or env variable in your dockerfile. For example, you have a backend server file that needs <em>node js for example to run it locally you need to do node server.js</em> then node is something that your app depends on</p>
</li>
<li>
<p>So each dockerfile starts off with a <strong>Base Image</strong> and you choose the base image based on the tools that your application needs
            - node based app you should use a node base image
            - python based app you should use a python base image</p>
</li>
</ul>
<p><strong>Structure of a Docker file</strong></p>
<ul>
<li>
<p>You can pull base images from public or private registeries so in this example we are going to use a base image from the Dockerhub and we get base images by using the <em>FROM</em> keyword</p>
</li>
<li>
<p>Basically you need to map all the commands you need to run the app locally in your docker file so that this image when it goes to another OS can also be built successfully. </p>
</li>
<li>For example: If you have package.json that means you have node packages that need to install so you need to define this in your dockerfile</li>
<li>You can run any commands and since alpine is a linux based image you can run linux command but you need to prefix it with the <code>RUN</code> keyword.</li>
<li>You also need to copy all of the files that are required to run the application to the container so you need a <code>COPY</code> directive </li>
<li>To change the directory of where you want to run commands in your docker container you use <code>WORKDIR</code></li>
<li>The last command that is run in a dockerfile uses the command <code>CMD</code> and it uses [] where you provide the command and the parameters</li>
</ul>
<h2 id="from-node19-alpine-copy-packagejson-app-copy-src-app-workdir-app-run-npm-install-cmd-node-serverjs"><div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>FROM node:19-alpine
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>COPY package.json /app/
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>COPY src /app/
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>WORKDIR /app
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>RUN npm install
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>CMD [&quot;node&quot;, &quot;server.js&quot;]
</span></code></pre></div></h2>
<h2 id="building-the-docker-image">Building the Docker Image</h2>
<ol>
<li>Once the dockerfile is complete then inside the project where the dockerfile resides we can build the image:</li>
<li>the <strong>-t</strong> is the tag parameter that lets you name the image using the {name: version}</li>
<li>the last parameter is the location of the dockerfile</li>
<li>` docker build - t web-app:1.0 . <ul>
<li>the dot represents the current folder </li>
</ul>
</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>